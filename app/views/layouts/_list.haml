.table-responsive
  %table.table.table-striped.table-condensed
    %thead
      %tr
        - head_elements.each do |head_el|
          %th= head_el
        - if defined?(add_resource) and add_resource == true
          %th
            .pull-right= link_to "Add #{resource_name}", [:new, namespace, resource_name.downcase], class: 'btn btn-primary btn-xs'
    %tbody#menuOrderable
      - collections.each do |element|
        %tr.item{id: "sortable_index_#{element.id}"}
          - body_elements.each do |body_el|
            %td
              - if body_el.include? 'image' # ex: image-of-collections
                = image_tag element.send(body_el).url(:_20x20c)
              - elsif body_el.include? '.' # ex: association.name
                - splitted = body_el.split('.')
                = element.send(splitted[0]).send(splitted[1]) if element.send(splitted[0]).present?
              - else
                = element.send(body_el)
          - if edit_resource
            %td
              .pull-right
                - if defined? order_element
                  %span(class="glyphicon glyphicon-move" aria-hidden="true")

                - if path_exists?(element)
                  - icon_eye = "<span class='glyphicon glyphicon-eye'></span>"
                  = link_to icon_eye, element, target: '_blank' 
  
                - icon_edit = "<span class='glyphicon glyphicon-pencil'></span>"
                = link_to raw(icon_edit), [:edit, namespace, element], class: 'btn btn link btn-xs'
  
                - icon_trash = "<span class='glyphicon glyphicon-trash'></span>"
                = link_to raw(icon_trash), [namespace, element], :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn link btn-xs'